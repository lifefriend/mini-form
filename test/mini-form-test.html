<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <script src="../bower_components/shadydom/shadydom.min.js"></script>
  <script src="../bower_components/custom-elements/custom-elements.min.js"></script>
  <script src="../node_modules/web-component-tester/browser.js"></script>
  <script src="../mini-form.js"></script>
</head>
<body>

  <mini-form theme="blue-green">What?!</mini-form>

  <script>

    suite('<mini-form>', function() {

      let component = document.querySelector('mini-form');

      test('renders div', () => {
        assert.isOk(component.shadowRoot.querySelector('div'));
      });

      test('renders input', () => {
        assert.isOk(component.shadowRoot.querySelector('input[type="text"]'));
      });

      test('render button', () => {
        assert.isOk(component.shadowRoot.querySelector('button'));
      });

      test('renders question', () => {
        let index = component.innerText.indexOf('What?!');
        assert.isAtLeast(index, 0);
      });

      test('applies color theme to button', () => {
       let button = component.shadowRoot.querySelector('button');
       let buttonColor = window.getComputedStyle(button).getPropertyValue('background-color');
       assert.equal(buttonColor, 'rgb(105, 240, 174)');
     });

     test('applies color theme to header', () => {
       let header = component.shadowRoot.querySelector('header');
       let headerColor = window.getComputedStyle(header).getPropertyValue('background-color');
       assert.equal(headerColor, 'rgb(33, 150, 243)');
     });

    });
  </script>
</body>
</html>
